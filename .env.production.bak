# ========================================
# PneumAI Production Environment Variables
# For Railway/Vercel Deployment
# ========================================

# ========================================
# ENVIRONMENT
# ========================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=warning

# ========================================
# DATABASE CONFIGURATION
# ========================================
# Railway PostgreSQL provides DATABASE_URL automatically
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=${DATABASE_URL}

# Connection Pool Settings
DB_POOL_MIN=10
DB_POOL_MAX=50
DB_POOL_TIMEOUT=30

# ========================================
# REDIS CONFIGURATION
# ========================================
# Railway Redis provides REDIS_URL automatically
REDIS_URL=${REDIS_URL}

# ========================================
# SECURITY
# ========================================
# !!! CRITICAL: Generate a secure random key for production !!!
# Use: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=${SECRET_KEY}

# JWT Settings
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=1440
JWT_REFRESH_EXPIRATION_DAYS=30

# Password Hashing
BCRYPT_ROUNDS=12

# ========================================
# API SERVER CONFIGURATION
# ========================================
HOST=0.0.0.0
PORT=${PORT:-8000}

# CORS Origins (Update with your actual frontend URL)
ALLOWED_ORIGINS=https://pneumai.vercel.app,https://www.pneumai.com

# ========================================
# FILE STORAGE
# ========================================
# Use AWS S3 in production
UPLOAD_DIR=/tmp/uploads
MODEL_PATH=/app/best.pt

# Maximum upload size (in MB)
MAX_UPLOAD_SIZE_MB=100

# ========================================
# AI MODEL CONFIGURATION
# ========================================
YOLO_MODEL_PATH=/app/best.pt
YOLO_CONFIDENCE_THRESHOLD=0.25
YOLO_IOU_THRESHOLD=0.45

# ========================================
# EMAIL CONFIGURATION
# ========================================
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=${SENDGRID_API_KEY}
SMTP_FROM_EMAIL=noreply@pneumai.com
SMTP_FROM_NAME=PneumAI Platform

# ========================================
# AWS S3 CONFIGURATION
# ========================================
AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
AWS_BUCKET_NAME=pneumai-ct-scans-prod
AWS_REGION=us-east-1
S3_UPLOAD_ENABLED=true

# ========================================
# FRONTEND URL
# ========================================
FRONTEND_URL=https://pneumai.vercel.app

# ========================================
# MONITORING & LOGGING
# ========================================
SENTRY_DSN=${SENTRY_DSN}
LOG_FILE_PATH=/tmp/logs/pneumai.log

# ========================================
# FEATURE FLAGS
# ========================================
ENABLE_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=true
DEMO_MODE=false
MAINTENANCE_MODE=false
